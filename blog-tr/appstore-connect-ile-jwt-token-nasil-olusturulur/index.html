<!doctype html><html lang="en-us">
  <head>
    

<script async src="https://www.googletagmanager.com/gtag/js?id=G-NRES0X4BGY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NRES0X4BGY');
</script>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="generator" content="L1nkr theme for Hugo" />



<title>Çağatay Türkan</title>
<meta name="title" content="Çağatay Türkan" />



  <meta name="author" content="Çağatay Türkan" />












<link type="text/css" rel="stylesheet" href="/css/main.bundle.min.f1ccd6d02bc0d5bb31cf0710e1ba00b915358d4532a48334e0bbd94cb23825a9106b3a3f9a9c82884d882090e65b1e1c1b0acb6be6895d2b3705725cc710ca65.css" integrity="sha512-8czW0CvA1bsxzwcQ4boAuRU1jUUypIM04LvZTLI4JakQazo/mpyCiE2IIJDmWx4cGwrLa&#43;aJXSs3BXJcxxDKZQ==" />







<script defer src="/ja/main.bundle.min.dd5253fb998de7c3246284f69b898861b0a8f28b277c61634af94182a8ad566c8aaca6688eecf256f397c9777041691486ce6c63eaba4132b2629eaca4a04feb.js" integrity="sha512-3VJT&#43;5mN58MkYoT2m4mIYbCo8osnfGFjSvlBgqitVmyKrKZojuzyVvOXyXdwQWkUhs5sY&#43;q6QTKyYp6spKBP6w=="></script>






<meta property="og:title" content="App Store Connect API için JWT Token Nasıl Oluşturulur?" />
<meta property="og:description" content="App Store Connect API, App Store Connect&rsquo;te gerçekleştirdiğiniz işlemleri otomatikleştiren bir REST API&rsquo;dir. Bu API, geliştiricilere uygulama gönderme ve güncelleme işlemlerinden, iç uygulama satın almalarını yönetmeye, uygulama performansını ve kullanıcı etkileşimini.." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blog-tr/appstore-connect-ile-jwt-token-nasil-olusturulur/" /><meta property="article:section" content="blog-tr" />
<meta property="article:published_time" content="2023-11-24T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-11-24T00:00:00+00:00" />


<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="App Store Connect API için JWT Token Nasıl Oluşturulur?"/>
<meta name="twitter:description" content="App Store Connect API, App Store Connect&rsquo;te gerçekleştirdiğiniz işlemleri otomatikleştiren bir REST API&rsquo;dir. Bu API, geliştiricilere uygulama gönderme ve güncelleme işlemlerinden, iç uygulama satın almalarını yönetmeye, uygulama performansını ve kullanıcı etkileşimini.."/>


  </head>
  <body class="flex h-screen flex-col justify-between bg-neutral-100 dark:bg-neutral-800">
    <div>
      <header class="sticky top-0 z-10 bg-neutral-100 dark:bg-neutral-800">
        



<section class="mx-auto flex max-w-screen-xl items-center justify-between p-4">
  <a href="/" class="flex items-center space-x-3">
    
    <span class="self-center whitespace-nowrap text-2xl font-semibold text-slate-700 dark:text-slate-400">
      Çağatay Türkan
    </span>
  </a>
  <div>
    <button id="hamburger-button" class="relative h-8 w-8 cursor-pointer text-3xl md:hidden" aria-label="hamburger-button">
      <div
        class="absolute top-4 -mt-0.5 h-[3px] w-8 rounded bg-slate-700 transition-all duration-500 before:absolute before:h-[3px] before:w-8 before:-translate-x-4 before:-translate-y-2.5 before:rounded before:bg-slate-700 before:transition-all before:duration-500 before:content-[''] after:absolute after:h-[3px] after:w-8 after:-translate-x-4 after:translate-y-2.5 after:rounded after:bg-slate-700 after:transition-all after:duration-500 after:content-[''] dark:bg-slate-400 before:dark:bg-slate-400 after:dark:bg-slate-400"></div>
    </button>
    <nav class="hidden space-x-8 text-xl md:block" aria-label="main">
      
        <a href="/" class="px-3 py-2 text-slate-700 hover:text-indigo-500 md:p-0 dark:text-slate-400">
          Home
        </a>
      
        <a href="/about" class="px-3 py-2 text-slate-700 hover:text-indigo-500 md:p-0 dark:text-slate-400">
          About
        </a>
      
        <a href="/blog-en" class="px-3 py-2 text-slate-700 hover:text-indigo-500 md:p-0 dark:text-slate-400">
          Blog-EN
        </a>
      
        <a href="/blog-tr" class="px-3 py-2 text-slate-700 hover:text-indigo-500 md:p-0 dark:text-slate-400">
          Blog-TR
        </a>
      
    </nav>
  </div>
</section>
<section id="mobile-menu" class="absolute hidden w-full origin-top animate-open-menu flex-col justify-center bg-neutral-100 text-4xl dark:bg-neutral-800">
  <nav class="flex min-h-screen flex-col items-center py-8" aria-label="mobile">
    
      <a href="/" class="px-3 py-2 text-center text-slate-700 hover:text-indigo-500 md:p-0 dark:text-slate-400">
        Home
      </a>
    
      <a href="/about" class="px-3 py-2 text-center text-slate-700 hover:text-indigo-500 md:p-0 dark:text-slate-400">
        About
      </a>
    
      <a href="/blog-en" class="px-3 py-2 text-center text-slate-700 hover:text-indigo-500 md:p-0 dark:text-slate-400">
        Blog-EN
      </a>
    
      <a href="/blog-tr" class="px-3 py-2 text-center text-slate-700 hover:text-indigo-500 md:p-0 dark:text-slate-400">
        Blog-TR
      </a>
    
  </nav>
</section>

      </header>
      <main>
        
  
  
  
  


  <div class="justify-left mx-auto mt-8 flex max-w-screen-md px-4">
    <article>
      <h1 class="text-4xl font-extrabold text-slate-700 dark:text-slate-200">
        App Store Connect API için JWT Token Nasıl Oluşturulur?
      </h1>
      <h2 class="mt-4 text-2xl text-slate-500 dark:text-slate-400">
        
      </h2>
      <div class="mb-4 mt-2 text-sm text-slate-500 dark:text-slate-400">
        Nov 24, 2023 - 4 minute read
      </div>

      
        
        <div class="flex flex-col">
          <img class="mt-4 h-full w-full object-cover" src="/images/bg_hu93ec3f9fca17ec0f2230a149f931e04b_154883_filter_11492400015018413633.webp" alt="feature image" height="386" width="736" />
          
        </div>
      


      <span class="prose prose-slate text-lg text-slate-700 dark:prose-invert dark:text-slate-200">
        <p><br>
Herkese merhabalar! App Store Connect API hakkında ilk blog yazısına hoşgeldiniz. Bu yazımda sizlere kısaca App Store Connect API&rsquo;den ve API&rsquo;yi kullanabilmek için nasıl JWT token oluşturabileceğinizi anlatacağım.</p>
<h3 id="app-store-connect-api-nedir">App Store Connect API Nedir?</h3>
<p>App Store Connect API, App Store Connect&rsquo;te gerçekleştirdiğiniz işlemleri otomatikleştiren bir REST API&rsquo;dir. Bu API, geliştiricilere uygulama gönderme ve güncelleme işlemlerinden, iç uygulama satın almalarını yönetmeye, uygulama performansını ve kullanıcı etkileşimini kapsamlı raporlar aracılığıyla izlemeye, müşteri değerlendirmelerine ve geri bildirimlere etkili bir şekilde yanıt vermeye kadar çeşitli görevleri sorunsuz bir şekilde yerine getirme imkanı sunar.</p>
<h3 id="neden-jwt-token">Neden JWT Token?</h3>
<p>Token olmadan, App Store Connect API&rsquo;den yanıt alamazsınız, ancak genellikle API, kimlik doğrulama ve yetkilendirme amaçları için JSON Web Token (JWT) gerektirir. API bağlamında JWT token, istemcinin kimliğini doğrulamak ve istenen kaynaklara erişim için gerekli izinlere sahip olduğunu sağlamak için güvenli ve standart bir yöntem olarak hizmet eder.</p>
<h3 id="jwt-token-nasıl-oluşturulur">JWT Token Nasıl Oluşturulur?</h3>
<p>App Store Connect API&rsquo;yi kullanmak için JWT tokenları oluşturmadan önce birkaç adımı tamamlamanız gerekmektedir.</p>
<ul>
<li>
<p>App Store Connect GUI üzerinden API Key oluşturun</p>
</li>
<li>
<p>Özel anahtarı p8 formatında kaydedin.</p>
</li>
<li>
<p>Issuer ID ve API Key ID değerlerini kopyalayın.</p>
</li>
</ul>
<h3 id="api-key-oluşturma">API Key Oluşturma</h3>
<p>API anahtarı oluşturmak için, hesabınızla App Store Connect web arayüzüne giriş yapın ve Users&amp;Access sayfasına gidin. Sayfadaki &ldquo;Keys&rdquo; sekmesine tıklayın. &ldquo;Keys&rdquo; sekmesini görebilmek için hesabınızın bu izne sahip olması gerekmektedir. Belirli bir amaç için API anahtarı veya tüm App Store Connect API&rsquo;ına erişim sağlayan yönetici API anahtarı oluşturabilirsiniz.</p>
<figure><img src="./images/apiKey.png"
         alt="api key page"/>
</figure>

<p>&lsquo;Active&rsquo; metni yanındaki artı ikonuna tıklayın, anahtar için bir isim yazın, açılan modalda anahtara erişebilecek rolleri seçin ve &lsquo;Generate&rsquo; düğmesine tıklayın. Ardından anahtar oluşturulacak ve listelenecektir.</p>
<h3 id="özel-anahtarı-kaydedin">Özel Anahtarı Kaydedin</h3>
<p>API Anahtarı oluşturulduktan sonra Özel Anahtarı bilgisayarınıza kaydetmeniz gerekiyor. Anahtar genellikle .p8 formatındadır. Özel anahtarla uğraşırken akılda tutmanız gereken bazı önemli noktalar bulunmaktadır.</p>
<ul>
<li>
<p>Özel anahtar yalnızca bir kez kaydedilebilir. Kaydedildikten sonra mutlaka güvenli bir şekilde saklanması önemlidir.</p>
</li>
<li>
<p>Özel anahtar asla süresi dolmaz ve geçerli olduğu sürece çalışır; hatta tehlikeye girmiş olsa bile. Eğer anahtarınızın artık güvenli olmadığını düşünüyorsanız, en kısa sürede App Store Connect&rsquo;ten iptal edin ve yeni bir anahtar alın.</p>
</li>
</ul>
<h3 id="issuer-id-ve-api-key-id-değerlerini-kopyalayın">Issuer ID ve API Key ID Değerlerini Kopyalayın</h3>
<p>JWT token oluşturmadan önce son adım, Users&amp;Access sayfasında bulabileceğiniz Issuer ID ve API Key ID&rsquo;yi kopyalamaktır.</p>
<h3 id="jwt-token-oluşturma">JWT Token Oluşturma</h3>
<p>Daha önce belirttiğim gibi, JWT, App Store Connect API tarafından kullanılan belirli bir tokenı oluşturmak için kullanılır. Token oluşturma süreci aşağıdaki adımları içerir:</p>
<ul>
<li>
<p><strong>IssuerID:</strong> User&amp;Access sayfasından kopyalanan Issuer ID bilgisi.</p>
</li>
<li>
<p><strong>Private Key:</strong> .p8 formatında kaydedilen özel anahtar.</p>
</li>
<li>
<p><strong>Expiration Time:</strong> Maksimum 20 dakika, token 20 dakikadan fazla geçerli olamaz, bu nedenle süresi dolmadan yeni bir token oluşturduğumuzdan emin olmalıyız.</p>
</li>
<li>
<p><strong>Audience:</strong> Genellikle &lsquo;applestoreconnect-v1&rsquo; olarak ayarlanan API sürüm değeri ile sabit bir değerdir.</p>
</li>
<li>
<p><strong>Algorithm:</strong> JWT algoritması, örneğin ES256, token oluşturmak için gereklidir.</p>
</li>
</ul>
<p>Gerekli tüm detaylara sahip olduktan sonra, istediğiniz dil kullanarak JWT token oluşturabileceksiniz. Ben bu süreç için Node.js kullanacağım.</p>
<p>Aşağıdaki komutları bilgisayarınızda sırasıyla çalıştırın:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-plaintext" data-lang="plaintext"><span style="display:flex;"><span>mkdir appStoreToken
</span></span><span style="display:flex;"><span>cd appStoreToken
</span></span><span style="display:flex;"><span>npm init -y
</span></span><span style="display:flex;"><span>npm i jsonwebtoken
</span></span><span style="display:flex;"><span>touch index.js
</span></span></code></pre></div><p>Aşağıdaki kodu index.js dosyanıza yapıştırın ve ilgili alanları kendi bilgilerinizle değiştirip kaydedin.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">fs</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;fs&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">jwt</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;jsonwebtoken&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">privateKey</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">fs</span>.<span style="color:#a6e22e">readFileSync</span>(<span style="color:#e6db74">&#34;yourPrivateKey.p8&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">apiKeyId</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Your API Key ID&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">issuerId</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Your Issuer ID&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">now</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">round</span>(<span style="color:#66d9ef">new</span> Date().<span style="color:#a6e22e">getTime</span>() <span style="color:#f92672">/</span> <span style="color:#ae81ff">1000</span>); <span style="color:#75715e">// Notice the /1000
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">nowPlus20</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">now</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1199</span>; <span style="color:#75715e">// 1200 === 20 minutes
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">payload</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">iss</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">issuerId</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">exp</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">nowPlus20</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">aud</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;appstoreconnect-v1&#34;</span>,
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">signOptions</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">algorithm</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;ES256&#34;</span>, 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">header</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">alg</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;ES256&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">kid</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">apiKeyId</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">typ</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;JWT&#34;</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">token</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">jwt</span>.<span style="color:#a6e22e">sign</span>(<span style="color:#a6e22e">payload</span>, <span style="color:#a6e22e">privateKey</span>, <span style="color:#a6e22e">signOptions</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;@token: &#34;</span>, <span style="color:#a6e22e">token</span>);
</span></span></code></pre></div><p>ve son olarak aşağıdaki komutu çalıştırın.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-plaintext" data-lang="plaintext"><span style="display:flex;"><span>node index.js
</span></span></code></pre></div><p>Bu işlem, App Store Connect API&rsquo;ye erişim için kullanabileceğimiz uzun bir token döndürecektir. Ayrıca, API&rsquo;yi 20 dakika sonrasında kullanmaya devam etmek istiyorsak başka bir token oluşturmamız gerekecektir.</p>
<h3 id="sonuç">Sonuç</h3>
<p>Bu yazıdma, App Store Connect API için Node.js kullanarak bir JWT tokenı nasıl oluşturulur konusunu anlatmaya çalıştım. Bu, API&rsquo;ye olan isteklerinizi doğrulamanın kritik bir adımıdır. Gelecekteki yazılarda, App Store Connect API&rsquo;yi kullanmanın diğer yollarını anlatmaya çalışacağım. Okuduğunuz için teşekkür ederim.</p>
<p><a href="https://cagatayturkan.com/blog-en/how-to-create-jwt-token-using-app-store-connect-api/">Bu yazıyı İngilizce oku</a></p>

      </span>
    </article>
  </div>

      </main>
    </div>
    <footer>
      <div class="flex flex-col justify-center p-10">
  
  <p class="text-center text-slate-700 dark:text-slate-400">
    &copy;
    2024
    Çağatay Türkan
  </p>

  
  
  
  
  <p class="text-center text-sm text-slate-700 dark:text-slate-400">
    Published with <a class="hover:underline hover:decoration-indigo-500 hover:text-indigo-500" href="https://gohugo.io" target="_blank" rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-indigo-500 hover:text-indigo-500" href="https://github.com/chrede88/qubt" target="_blank" rel="noopener noreferrer">Qubt</a>
  </p>
</div>

    </footer>
  </body>
</html>
